<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DataTransferå¯¹è±¡ | oliveying</title>
    <meta name="description" content="å‰ç«¯çŸ¥è¯†ï¼Œå¯¹å‰ç«¯é‡åˆ°çš„é—®é¢˜è¿›è¡Œæ€»ç»“">
    <link rel="icon" href="/knowledge/img/favicon.ico">
    
    <link rel="preload" href="/knowledge/assets/css/0.styles.ace1f307.css" as="style"><link rel="preload" href="/knowledge/assets/js/app.0598c8f5.js" as="script"><link rel="preload" href="/knowledge/assets/js/85.1db0afa8.js" as="script"><link rel="prefetch" href="/knowledge/assets/js/10.90293d7f.js"><link rel="prefetch" href="/knowledge/assets/js/100.54b65d7d.js"><link rel="prefetch" href="/knowledge/assets/js/101.df59ff78.js"><link rel="prefetch" href="/knowledge/assets/js/102.b459cf77.js"><link rel="prefetch" href="/knowledge/assets/js/103.801a0803.js"><link rel="prefetch" href="/knowledge/assets/js/104.35634380.js"><link rel="prefetch" href="/knowledge/assets/js/105.1340a87f.js"><link rel="prefetch" href="/knowledge/assets/js/106.a0fdd781.js"><link rel="prefetch" href="/knowledge/assets/js/107.8ae9e909.js"><link rel="prefetch" href="/knowledge/assets/js/108.3a388378.js"><link rel="prefetch" href="/knowledge/assets/js/109.dabe24b4.js"><link rel="prefetch" href="/knowledge/assets/js/11.bef852fa.js"><link rel="prefetch" href="/knowledge/assets/js/110.07b4d5f0.js"><link rel="prefetch" href="/knowledge/assets/js/111.5cef168d.js"><link rel="prefetch" href="/knowledge/assets/js/112.a0012529.js"><link rel="prefetch" href="/knowledge/assets/js/113.b6d3edab.js"><link rel="prefetch" href="/knowledge/assets/js/114.f8934554.js"><link rel="prefetch" href="/knowledge/assets/js/115.95b7a85d.js"><link rel="prefetch" href="/knowledge/assets/js/116.6d6f7cf8.js"><link rel="prefetch" href="/knowledge/assets/js/117.18954faf.js"><link rel="prefetch" href="/knowledge/assets/js/118.5b67121f.js"><link rel="prefetch" href="/knowledge/assets/js/119.a6c7a42d.js"><link rel="prefetch" href="/knowledge/assets/js/12.9cccb9fc.js"><link rel="prefetch" href="/knowledge/assets/js/120.512d2791.js"><link rel="prefetch" href="/knowledge/assets/js/121.e1effb4c.js"><link rel="prefetch" href="/knowledge/assets/js/122.ae9f59f3.js"><link rel="prefetch" href="/knowledge/assets/js/123.a6bd35c6.js"><link rel="prefetch" href="/knowledge/assets/js/124.6db13bb2.js"><link rel="prefetch" href="/knowledge/assets/js/125.e86a5e41.js"><link rel="prefetch" href="/knowledge/assets/js/126.0c7935b6.js"><link rel="prefetch" href="/knowledge/assets/js/127.515a6c02.js"><link rel="prefetch" href="/knowledge/assets/js/128.19f4d028.js"><link rel="prefetch" href="/knowledge/assets/js/129.7f4b6536.js"><link rel="prefetch" href="/knowledge/assets/js/13.4be5d483.js"><link rel="prefetch" href="/knowledge/assets/js/130.6076ef5c.js"><link rel="prefetch" href="/knowledge/assets/js/131.a2ffec16.js"><link rel="prefetch" href="/knowledge/assets/js/132.631a0595.js"><link rel="prefetch" href="/knowledge/assets/js/133.6b55e3e8.js"><link rel="prefetch" href="/knowledge/assets/js/134.87933f62.js"><link rel="prefetch" href="/knowledge/assets/js/135.af22a8bb.js"><link rel="prefetch" href="/knowledge/assets/js/136.3bc00667.js"><link rel="prefetch" href="/knowledge/assets/js/137.884c009b.js"><link rel="prefetch" href="/knowledge/assets/js/138.39bf5afd.js"><link rel="prefetch" href="/knowledge/assets/js/139.01726c36.js"><link rel="prefetch" href="/knowledge/assets/js/14.e5df052b.js"><link rel="prefetch" href="/knowledge/assets/js/140.2aaefea5.js"><link rel="prefetch" href="/knowledge/assets/js/141.6de7c496.js"><link rel="prefetch" href="/knowledge/assets/js/142.f38e592f.js"><link rel="prefetch" href="/knowledge/assets/js/143.55155cdd.js"><link rel="prefetch" href="/knowledge/assets/js/144.b93b95ca.js"><link rel="prefetch" href="/knowledge/assets/js/145.c1305cca.js"><link rel="prefetch" href="/knowledge/assets/js/146.2f0e65ab.js"><link rel="prefetch" href="/knowledge/assets/js/147.adf879b8.js"><link rel="prefetch" href="/knowledge/assets/js/148.4c0b9ca9.js"><link rel="prefetch" href="/knowledge/assets/js/149.556ecf2d.js"><link rel="prefetch" href="/knowledge/assets/js/15.cd91cd34.js"><link rel="prefetch" href="/knowledge/assets/js/150.10f0eb80.js"><link rel="prefetch" href="/knowledge/assets/js/151.e15feac0.js"><link rel="prefetch" href="/knowledge/assets/js/152.204b9221.js"><link rel="prefetch" href="/knowledge/assets/js/153.f93a89f0.js"><link rel="prefetch" href="/knowledge/assets/js/154.6804d0a6.js"><link rel="prefetch" href="/knowledge/assets/js/155.bbbd5504.js"><link rel="prefetch" href="/knowledge/assets/js/156.9ab5f4a5.js"><link rel="prefetch" href="/knowledge/assets/js/157.fe241494.js"><link rel="prefetch" href="/knowledge/assets/js/158.f86e4b53.js"><link rel="prefetch" href="/knowledge/assets/js/159.e19c17d1.js"><link rel="prefetch" href="/knowledge/assets/js/16.e060ba55.js"><link rel="prefetch" href="/knowledge/assets/js/160.5be567d6.js"><link rel="prefetch" href="/knowledge/assets/js/161.2f1f189d.js"><link rel="prefetch" href="/knowledge/assets/js/162.ad66431a.js"><link rel="prefetch" href="/knowledge/assets/js/163.e39c161f.js"><link rel="prefetch" href="/knowledge/assets/js/164.2e629996.js"><link rel="prefetch" href="/knowledge/assets/js/165.e0b4d29a.js"><link rel="prefetch" href="/knowledge/assets/js/166.8957011a.js"><link rel="prefetch" href="/knowledge/assets/js/167.af6e30b5.js"><link rel="prefetch" href="/knowledge/assets/js/168.0d5a3a46.js"><link rel="prefetch" href="/knowledge/assets/js/169.dcd80ee1.js"><link rel="prefetch" href="/knowledge/assets/js/17.cbedd678.js"><link rel="prefetch" href="/knowledge/assets/js/170.88420fa6.js"><link rel="prefetch" href="/knowledge/assets/js/171.c3e44e8b.js"><link rel="prefetch" href="/knowledge/assets/js/172.c706254a.js"><link rel="prefetch" href="/knowledge/assets/js/173.1b1ca418.js"><link rel="prefetch" href="/knowledge/assets/js/174.460ef2a7.js"><link rel="prefetch" href="/knowledge/assets/js/175.8807c965.js"><link rel="prefetch" href="/knowledge/assets/js/176.1dc1aa1e.js"><link rel="prefetch" href="/knowledge/assets/js/177.1e998b52.js"><link rel="prefetch" href="/knowledge/assets/js/178.280f116e.js"><link rel="prefetch" href="/knowledge/assets/js/179.f40358e9.js"><link rel="prefetch" href="/knowledge/assets/js/18.65be3687.js"><link rel="prefetch" href="/knowledge/assets/js/180.9fb0036d.js"><link rel="prefetch" href="/knowledge/assets/js/181.ef8f73dd.js"><link rel="prefetch" href="/knowledge/assets/js/182.e1a9b2a1.js"><link rel="prefetch" href="/knowledge/assets/js/183.6189e9c5.js"><link rel="prefetch" href="/knowledge/assets/js/184.5e6b6e10.js"><link rel="prefetch" href="/knowledge/assets/js/19.48e761c3.js"><link rel="prefetch" href="/knowledge/assets/js/2.89893ef2.js"><link rel="prefetch" href="/knowledge/assets/js/20.8fa2b2b5.js"><link rel="prefetch" href="/knowledge/assets/js/21.9f331d26.js"><link rel="prefetch" href="/knowledge/assets/js/22.b0bfdc37.js"><link rel="prefetch" href="/knowledge/assets/js/23.6b3d144f.js"><link rel="prefetch" href="/knowledge/assets/js/24.775a4a2f.js"><link rel="prefetch" href="/knowledge/assets/js/25.a98881a8.js"><link rel="prefetch" href="/knowledge/assets/js/26.30d4fc27.js"><link rel="prefetch" href="/knowledge/assets/js/27.adb1c85b.js"><link rel="prefetch" href="/knowledge/assets/js/28.cd7e5a5a.js"><link rel="prefetch" href="/knowledge/assets/js/29.a8ee4c1c.js"><link rel="prefetch" href="/knowledge/assets/js/3.3d73560c.js"><link rel="prefetch" href="/knowledge/assets/js/30.72b61c10.js"><link rel="prefetch" href="/knowledge/assets/js/31.d91e0a0a.js"><link rel="prefetch" href="/knowledge/assets/js/32.0973ffc0.js"><link rel="prefetch" href="/knowledge/assets/js/33.33b48d6f.js"><link rel="prefetch" href="/knowledge/assets/js/34.8c5155cd.js"><link rel="prefetch" href="/knowledge/assets/js/35.0f3a589e.js"><link rel="prefetch" href="/knowledge/assets/js/36.36518d26.js"><link rel="prefetch" href="/knowledge/assets/js/37.71d76436.js"><link rel="prefetch" href="/knowledge/assets/js/38.acf72ddf.js"><link rel="prefetch" href="/knowledge/assets/js/39.64cecb9e.js"><link rel="prefetch" href="/knowledge/assets/js/4.54e0cd6b.js"><link rel="prefetch" href="/knowledge/assets/js/40.e6688e63.js"><link rel="prefetch" href="/knowledge/assets/js/41.9ef490b9.js"><link rel="prefetch" href="/knowledge/assets/js/42.0596e224.js"><link rel="prefetch" href="/knowledge/assets/js/43.d29bdb86.js"><link rel="prefetch" href="/knowledge/assets/js/44.5646fdef.js"><link rel="prefetch" href="/knowledge/assets/js/45.02bc0141.js"><link rel="prefetch" href="/knowledge/assets/js/46.ccc5a57c.js"><link rel="prefetch" href="/knowledge/assets/js/47.90d8f911.js"><link rel="prefetch" href="/knowledge/assets/js/48.60ceb17f.js"><link rel="prefetch" href="/knowledge/assets/js/49.614ffa70.js"><link rel="prefetch" href="/knowledge/assets/js/5.b3e5f51b.js"><link rel="prefetch" href="/knowledge/assets/js/50.cc548896.js"><link rel="prefetch" href="/knowledge/assets/js/51.2ed7e24a.js"><link rel="prefetch" href="/knowledge/assets/js/52.e6a09b37.js"><link rel="prefetch" href="/knowledge/assets/js/53.5ba1b311.js"><link rel="prefetch" href="/knowledge/assets/js/54.065067d9.js"><link rel="prefetch" href="/knowledge/assets/js/55.e31ee302.js"><link rel="prefetch" href="/knowledge/assets/js/56.334ac36a.js"><link rel="prefetch" href="/knowledge/assets/js/57.75a2eb60.js"><link rel="prefetch" href="/knowledge/assets/js/58.8a63cf7e.js"><link rel="prefetch" href="/knowledge/assets/js/59.0867127e.js"><link rel="prefetch" href="/knowledge/assets/js/6.822f4588.js"><link rel="prefetch" href="/knowledge/assets/js/60.65bd9a6b.js"><link rel="prefetch" href="/knowledge/assets/js/61.4c2c8030.js"><link rel="prefetch" href="/knowledge/assets/js/62.34a8f75c.js"><link rel="prefetch" href="/knowledge/assets/js/63.f675f96b.js"><link rel="prefetch" href="/knowledge/assets/js/64.b04cc679.js"><link rel="prefetch" href="/knowledge/assets/js/65.550c226c.js"><link rel="prefetch" href="/knowledge/assets/js/66.2044045f.js"><link rel="prefetch" href="/knowledge/assets/js/67.29374520.js"><link rel="prefetch" href="/knowledge/assets/js/68.0cef07a7.js"><link rel="prefetch" href="/knowledge/assets/js/69.38bab0b1.js"><link rel="prefetch" href="/knowledge/assets/js/7.710425be.js"><link rel="prefetch" href="/knowledge/assets/js/70.89117fb4.js"><link rel="prefetch" href="/knowledge/assets/js/71.1c0371ec.js"><link rel="prefetch" href="/knowledge/assets/js/72.7f6197f2.js"><link rel="prefetch" href="/knowledge/assets/js/73.320d8514.js"><link rel="prefetch" href="/knowledge/assets/js/74.9700feb7.js"><link rel="prefetch" href="/knowledge/assets/js/75.e2b75082.js"><link rel="prefetch" href="/knowledge/assets/js/76.d3102da4.js"><link rel="prefetch" href="/knowledge/assets/js/77.8753179d.js"><link rel="prefetch" href="/knowledge/assets/js/78.bab2e95d.js"><link rel="prefetch" href="/knowledge/assets/js/79.74931317.js"><link rel="prefetch" href="/knowledge/assets/js/8.266590d3.js"><link rel="prefetch" href="/knowledge/assets/js/80.218fab37.js"><link rel="prefetch" href="/knowledge/assets/js/81.8fba1997.js"><link rel="prefetch" href="/knowledge/assets/js/82.7c32c926.js"><link rel="prefetch" href="/knowledge/assets/js/83.0a90928d.js"><link rel="prefetch" href="/knowledge/assets/js/84.2cdb8d68.js"><link rel="prefetch" href="/knowledge/assets/js/86.92ec1746.js"><link rel="prefetch" href="/knowledge/assets/js/87.2f716bc1.js"><link rel="prefetch" href="/knowledge/assets/js/88.16d5626c.js"><link rel="prefetch" href="/knowledge/assets/js/89.dfc7cce9.js"><link rel="prefetch" href="/knowledge/assets/js/9.6ac483ba.js"><link rel="prefetch" href="/knowledge/assets/js/90.b4f752f0.js"><link rel="prefetch" href="/knowledge/assets/js/91.21a4838e.js"><link rel="prefetch" href="/knowledge/assets/js/92.919a90b6.js"><link rel="prefetch" href="/knowledge/assets/js/93.1e38886a.js"><link rel="prefetch" href="/knowledge/assets/js/94.0496394f.js"><link rel="prefetch" href="/knowledge/assets/js/95.499c2e4e.js"><link rel="prefetch" href="/knowledge/assets/js/96.7b6f1886.js"><link rel="prefetch" href="/knowledge/assets/js/97.d639e146.js"><link rel="prefetch" href="/knowledge/assets/js/98.96f0eb9b.js"><link rel="prefetch" href="/knowledge/assets/js/99.3840d24e.js">
    <link rel="stylesheet" href="/knowledge/assets/css/0.styles.ace1f307.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/knowledge/" class="home-link router-link-active"><!----> <span class="site-name">oliveying</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/knowledge/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">book</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knowledge/bgoodparts/" class="nav-link">è¯­è¨€ç²¾ç²¹</a></li><li class="dropdown-item"><!----> <a href="/knowledge/http/" class="nav-link">å›¾è§£http</a></li><li class="dropdown-item"><!----> <a href="/knowledge/es6/" class="nav-link">es6</a></li><li class="dropdown-item"><!----> <a href="/knowledge/javascript/" class="nav-link">javascriptæ•™ç¨‹</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">å‰ç«¯æŠ€æœ¯</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knowledge/html/" class="nav-link">html</a></li><li class="dropdown-item"><!----> <a href="/knowledge/css/" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/knowledge/js/" class="nav-link">javascript</a></li><li class="dropdown-item"><!----> <a href="/knowledge/jsHigh/" class="nav-link">javascriptHigh</a></li><li class="dropdown-item"><!----> <a href="/knowledge/h5/" class="nav-link router-link-active">h5æœ€æ–°ç”¨æ³•</a></li><li class="dropdown-item"><!----> <a href="/knowledge/node/" class="nav-link">node</a></li><li class="dropdown-item"><!----> <a href="/knowledge/brower/" class="nav-link">æµè§ˆå™¨ç‰¹æ€§</a></li><li class="dropdown-item"><!----> <a href="/knowledge/d3/" class="nav-link">d3</a></li><li class="dropdown-item"><!----> <a href="/knowledge/typescript/" class="nav-link">typescript</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">æ€»ç»“</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knowledge/summary/" class="nav-link">æ€»ç»“</a></li><li class="dropdown-item"><!----> <a href="/knowledge/interview/" class="nav-link">é¢è¯•</a></li><li class="dropdown-item"><!----> <a href="/knowledge/problem/" class="nav-link">problem</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">æ‰©å±•</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knowledge/start/" class="nav-link">å¯åŠ¨</a></li><li class="dropdown-item"><!----> <a href="/knowledge/tool/" class="nav-link">å·¥å…·ç”¨æ³•</a></li><li class="dropdown-item"><!----> <a href="/knowledge/markdown/" class="nav-link">markDown</a></li><li class="dropdown-item"><!----> <a href="/knowledge/linux/" class="nav-link">linux</a></li><li class="dropdown-item"><!----> <a href="/knowledge/mac/" class="nav-link">mac</a></li><li class="dropdown-item"><!----> <a href="/knowledge/develop/" class="nav-link">æå‡</a></li><li class="dropdown-item"><!----> <a href="/knowledge/redis/" class="nav-link">redis</a></li></ul></div></div> <a href="https://github.com/oliveying/knowledge" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/knowledge/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">book</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knowledge/bgoodparts/" class="nav-link">è¯­è¨€ç²¾ç²¹</a></li><li class="dropdown-item"><!----> <a href="/knowledge/http/" class="nav-link">å›¾è§£http</a></li><li class="dropdown-item"><!----> <a href="/knowledge/es6/" class="nav-link">es6</a></li><li class="dropdown-item"><!----> <a href="/knowledge/javascript/" class="nav-link">javascriptæ•™ç¨‹</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">å‰ç«¯æŠ€æœ¯</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knowledge/html/" class="nav-link">html</a></li><li class="dropdown-item"><!----> <a href="/knowledge/css/" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/knowledge/js/" class="nav-link">javascript</a></li><li class="dropdown-item"><!----> <a href="/knowledge/jsHigh/" class="nav-link">javascriptHigh</a></li><li class="dropdown-item"><!----> <a href="/knowledge/h5/" class="nav-link router-link-active">h5æœ€æ–°ç”¨æ³•</a></li><li class="dropdown-item"><!----> <a href="/knowledge/node/" class="nav-link">node</a></li><li class="dropdown-item"><!----> <a href="/knowledge/brower/" class="nav-link">æµè§ˆå™¨ç‰¹æ€§</a></li><li class="dropdown-item"><!----> <a href="/knowledge/d3/" class="nav-link">d3</a></li><li class="dropdown-item"><!----> <a href="/knowledge/typescript/" class="nav-link">typescript</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">æ€»ç»“</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knowledge/summary/" class="nav-link">æ€»ç»“</a></li><li class="dropdown-item"><!----> <a href="/knowledge/interview/" class="nav-link">é¢è¯•</a></li><li class="dropdown-item"><!----> <a href="/knowledge/problem/" class="nav-link">problem</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">æ‰©å±•</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knowledge/start/" class="nav-link">å¯åŠ¨</a></li><li class="dropdown-item"><!----> <a href="/knowledge/tool/" class="nav-link">å·¥å…·ç”¨æ³•</a></li><li class="dropdown-item"><!----> <a href="/knowledge/markdown/" class="nav-link">markDown</a></li><li class="dropdown-item"><!----> <a href="/knowledge/linux/" class="nav-link">linux</a></li><li class="dropdown-item"><!----> <a href="/knowledge/mac/" class="nav-link">mac</a></li><li class="dropdown-item"><!----> <a href="/knowledge/develop/" class="nav-link">æå‡</a></li><li class="dropdown-item"><!----> <a href="/knowledge/redis/" class="nav-link">redis</a></li></ul></div></div> <a href="https://github.com/oliveying/knowledge" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/knowledge/h5/h5.html" class="sidebar-link">å¸¸è§çš„h5å…¼å®¹æ€§é—®é¢˜</a></li><li><a href="/knowledge/h5/å¤„ç†ç§»åŠ¨ç«¯æ ·å¼åŠå†…åµŒappæ€»ç»“.html" class="sidebar-link">ç§»åŠ¨ç«¯</a></li><li><a href="/knowledge/h5/å°ç¨‹åº.html" class="sidebar-link">å„ç«¯å°ç¨‹åº</a></li><li><a href="/knowledge/h5/h5å’Œç§»åŠ¨ç«¯é€šä¿¡æ–¹å¼.html" class="sidebar-link">h5ä¸iosé€šä¿¡</a></li></ul> </div> <div class="page"> <div class="content"><p>æ‹–æ”¾ï¼ˆdrap &amp;&amp; dropï¼‰å®ƒè¡¨ç¤ºï¼šæŠ“å»å¯¹è±¡ä»¥åæ‹–æ”¾åˆ°å¦ä¸€ä¸ªä½ç½®ã€‚ç›®å‰ï¼Œå®ƒæ˜¯HTML5æ ‡å‡†çš„ä¸€éƒ¨åˆ†ã€‚
æ‹–æ”¾çš„æµç¨‹å¯¹åº”çš„äº‹ä»¶
æˆ‘ä»¬å…ˆçœ‹ä¸‹æ‹–æ”¾çš„æµç¨‹ï¼š
é€‰ä¸­ ---&gt;  æ‹–åŠ¨  ---&gt; é‡Šæ”¾</p> <p>ç„¶åï¼Œæˆ‘ä»¬ä¸€æ­¥æ­¥çœ‹ä¸‹è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¼šå‘ç”Ÿçš„äº‹æƒ…ã€‚
é€‰ä¸­
æµè§ˆå™¨ä¸­ï¼Œæœ‰ä¸‰ç§å…ƒç´ ï¼Œé»˜è®¤æ˜¯å¯ä»¥è¢«æ‹–åŠ¨çš„ï¼Œå®ƒä»¬çš„draggableå±æ€§è‡ªåŠ¨è¢«è®¾ç½®æˆäº†trueï¼Œå®ƒä»¬æ˜¯ï¼š</p> <ol><li>è¢«é€‰ä¸­åçš„æ–‡æœ¬ï¼›</li> <li>å›¾ç‰‡ï¼›</li> <li>é“¾æ¥
å…¶ä»–å…ƒç´ è¦è½¬æˆå¯æ‹–åŠ¨å…ƒç´ ï¼Œå¿…é¡»æ·»åŠ draggable=&quot;true&quot;ï¼Œå¦‚ï¼š
<div draggable="true"></div></li></ol> <p>æ³¨æ„ï¼šè¿™é‡Œä¸èƒ½ç•¥å†™ï¼Œå¦‚å†™æˆï¼š
</p><div draggable="true"></div><p></p> <p>æ˜¯æ— æ•ˆçš„ã€‚
draggableå±æ€§ï¼šè®¾ç½®å…ƒç´ æ˜¯å¦å¯æ‹–åŠ¨ã€‚è¯­æ³•ï¼š<element draggable="true"></element></p> <ul><li>true: å¯ä»¥æ‹–åŠ¨</li> <li>false: ç¦æ­¢æ‹–åŠ¨</li> <li>auto: è·Ÿéšæµè§ˆå™¨å®šä¹‰æ˜¯å¦å¯ä»¥æ‹–åŠ¨
æ‹–åŠ¨
æ¯ä¸€ä¸ªå¯æ‹–åŠ¨çš„å…ƒç´ ï¼Œåœ¨æ‹–åŠ¨è¿‡ç¨‹ä¸­ï¼Œéƒ½ä¼šç»å†ä¸‰ä¸ªè¿‡ç¨‹ï¼Œæ‹–åŠ¨å¼€å§‹--&gt;æ‹–åŠ¨è¿‡ç¨‹ä¸­--&gt; æ‹–åŠ¨ç»“æŸã€‚
å…·ä½“å¯å‚è€ƒmdn
é’ˆå¯¹å¯¹è±¡
äº‹ä»¶åç§°
è¯´æ˜
è¢«æ‹–åŠ¨çš„å…ƒç´ 
dragstart
åœ¨å…ƒç´ å¼€å§‹è¢«æ‹–åŠ¨æ—¶å€™è§¦å‘</li></ul> <p>drag
åœ¨å…ƒç´ è¢«æ‹–åŠ¨æ—¶åå¤è§¦å‘</p> <p>dragend
åœ¨æ‹–åŠ¨æ“ä½œå®Œæˆæ—¶è§¦å‘
ç›®çš„åœ°å…ƒç´ 
dragenter
å½“è¢«æ‹–åŠ¨å…ƒç´ è¿›å…¥ç›®çš„åœ°å…ƒç´ æ‰€å æ®çš„å±å¹•ç©ºé—´æ—¶è§¦å‘</p> <p>dragover
å½“è¢«æ‹–åŠ¨å…ƒç´ åœ¨ç›®çš„åœ°å…ƒç´ å†…æ—¶è§¦å‘</p> <p>dragleave
å½“è¢«æ‹–åŠ¨å…ƒç´ æ²¡æœ‰æ”¾ä¸‹å°±ç¦»å¼€ç›®çš„åœ°å…ƒç´ æ—¶è§¦å‘</p> <p>dragenterå’Œdragoveräº‹ä»¶çš„é»˜è®¤è¡Œä¸ºæ˜¯æ‹’ç»æ¥å—ä»»ä½•è¢«æ‹–æ”¾çš„å…ƒç´ ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»é˜»æ­¢æµè§ˆå™¨è¿™ç§é»˜è®¤è¡Œä¸ºã€‚e.preventDefault();
é‡Šæ”¾
åˆ°è¾¾ç›®çš„åœ°ä¹‹åï¼Œé‡Šæ”¾å…ƒç´ äº‹ä»¶
é’ˆå¯¹å¯¹è±¡
äº‹ä»¶åç§°
è¯´æ˜
ç›®çš„åœ°å¯¹è±¡
drop
å½“è¢«æ‹–åŠ¨å…ƒç´ åœ¨ç›®çš„åœ°å…ƒç´ é‡Œæ”¾ä¸‹æ—¶è§¦å‘ï¼Œä¸€èˆ¬éœ€è¦å–æ¶ˆæµè§ˆå™¨é»˜è®¤è¡Œä¸º</p> <p>é€‰ä¸­æ‹–åŠ¨é‡Šæ”¾ä¾‹å­</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE HTML&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>æ‹–æ”¾ç¤ºä¾‹-æ–‡æœ¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.src</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.dropabled</span> <span class="token punctuation">{</span>
    <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.txt</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.img</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid gray<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.target</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid gray<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>src<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>dragabled<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          æ‰€æœ‰çš„æ–‡å­—éƒ½å¯æ‹–æ‹½ã€‚
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>txt<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>txt<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ­¤æ®µæ–‡å­—è®¾ç½®äº†å±æ€§draggable=&quot;true&quot;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://www.com<span class="token punctuation">&quot;</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>_blank<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æˆ‘æ˜¯url:http://wom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>img<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tupian1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://ww.c<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>å›¾ç‰‡1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>img<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tupian2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://n.sin.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>å›¾ç‰‡2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>target<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>dropabled target<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Drop Here<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      window<span class="token punctuation">.</span>currentdrag <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> dragSrc <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'txt'</span><span class="token punctuation">)</span>
        <span class="token keyword">var</span> target <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'target'</span><span class="token punctuation">)</span>

        dragSrc<span class="token punctuation">.</span>ondragstart <span class="token operator">=</span> handle_start
        dragSrc<span class="token punctuation">.</span>ondrag <span class="token operator">=</span> handle_drag
        dragSrc<span class="token punctuation">.</span>ondragend <span class="token operator">=</span> handle_end

        <span class="token keyword">function</span> <span class="token function">handle_start</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'dragstart-åœ¨å…ƒç´ å¼€å§‹è¢«æ‹–åŠ¨æ—¶å€™è§¦å‘'</span><span class="token punctuation">)</span>
          window<span class="token punctuation">.</span>currentdrag <span class="token operator">=</span> <span class="token template-string"><span class="token string">`è¿™æ˜¯æ˜¯æ‹–æ‹½çš„å…ƒç´ </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>innerHTML<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

      <span class="token keyword">function</span> <span class="token function">handle_drag</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'drag-åœ¨å…ƒç´ è¢«æ‹–åŠ¨æ—¶å€™åå¤è§¦å‘'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

      <span class="token keyword">function</span> <span class="token function">handle_end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'dragend-åœ¨æ‹–åŠ¨æ“ä½œå®Œæˆæ—¶è§¦å‘'</span><span class="token punctuation">)</span>
            <span class="token comment">// æ¸…ç©ºæ‹–æ‹½å…ƒç´ </span>
            window<span class="token punctuation">.</span>currentdrag <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>


        target<span class="token punctuation">.</span>ondragenter <span class="token operator">=</span> handle_enter
        target<span class="token punctuation">.</span>ondragover <span class="token operator">=</span> handle_over
        target<span class="token punctuation">.</span>ondragleave <span class="token operator">=</span> handle_leave

        target<span class="token punctuation">.</span>ondrop <span class="token operator">=</span> handle_drop

        <span class="token keyword">function</span> <span class="token function">handle_enter</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'handle_enter-å½“å…ƒç´ è¿›å…¥ç›®çš„åœ°æ—¶è§¦å‘'</span><span class="token punctuation">)</span>
            <span class="token comment">// é˜»æ­¢æµè§ˆå™¨é»˜è®¤è¡Œä¸º</span>
            e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">function</span> <span class="token function">handle_over</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'handle_over-å½“å…ƒç´ åœ¨ç›®çš„åœ°æ—¶è§¦å‘'</span><span class="token punctuation">)</span>
            <span class="token comment">// é˜»æ­¢æµè§ˆå™¨é»˜è®¤è¡Œä¸º</span>
            e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">function</span> <span class="token function">handle_leave</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'handle_leave-å½“å…ƒç´ ç¦»å¼€ç›®çš„åœ°æ—¶è§¦å‘'</span><span class="token punctuation">)</span>
            <span class="token comment">// é˜»æ­¢æµè§ˆå™¨é»˜è®¤è¡Œä¸º</span>
            <span class="token comment">// e.preventDefault()</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">function</span> <span class="token function">handle_drop</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'handle_drop-å½“å…ƒç´ åœ¨ç›®çš„åœ°æ”¾ä¸‹æ—¶è§¦å‘'</span><span class="token punctuation">)</span>
            target<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">''</span>
            target<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>window<span class="token punctuation">.</span>currentdrag <span class="token operator">?</span> window<span class="token punctuation">.</span>currentdrag<span class="token punctuation">:</span> `æ‹–æ‹½é»˜è®¤çš„å›¾ç‰‡<span class="token operator">/</span>é“¾æ¥$<span class="token punctuation">{</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">}</span><span class="token operator">-</span>æ‹–æ”¾è§¦å‘çš„äº‹ä»¶ã€‚`<span class="token punctuation">)</span>
            e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>åœ¨æ•´ä¸ªæ‹–æ”¾è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä»¥ä¸Šè¯´çš„æ˜¯è¡¨é¢ç°è±¡ï¼Œäº‹ä»¶è¿‡ç¨‹å†…éƒ¨è¿˜ä¼šå‘ç”Ÿä»€ä¹ˆäº‹æƒ…å‘¢ï¼Ÿè¯·çœ‹ä¸‹é¢ğŸ‘‡çš„DataTransferå¯¹è±¡ã€‚</p> <h3 id="datatransferå¯¹è±¡"><a href="#datatransferå¯¹è±¡" aria-hidden="true" class="header-anchor">#</a> DataTransferå¯¹è±¡</h3> <p>ä¸€ä¸ªå®Œæ•´çš„æ‹–æ”¾æ“ä½œï¼Œé™¤äº†æ‹–åŠ¨ä¸€ä¸ªå…ƒç´ ï¼Œåœ¨æŒ‡å®šåŒºåŸŸé‡Šæ”¾ä¹‹å¤–ï¼Œè¿˜æœ‰æœ€é‡è¦çš„ä¸€æ­¥ï¼Œå°±æ˜¯å°†å…ƒç´ æºå¸¦çš„ä¿¡æ¯åœ¨è¢«é‡Šæ”¾åŒºåŸŸä¸­å±•ç¤ºã€‚
æ¯”å¦‚ï¼Œæ‹–æ”¾ä¸€å¼ å›¾ç‰‡ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯è·å–åˆ°è¢«æ‹–åŠ¨çš„å›¾ç‰‡srcå±æ€§å€¼ï¼Œå¹¶åœ¨é‡Šæ”¾æ—¶ï¼Œåœ¨é‡Šæ”¾åŒºåŸŸå±•ç¤ºä¸€å¼ ç›¸åŒsrcçš„å›¾ç‰‡ã€‚
è€Œè¿™ä¸ªä¿¡æ¯ï¼Œå°±å­˜å‚¨åœ¨DataTransferå¯¹è±¡ä¸­ã€‚
å¯¹äºéé»˜è®¤å¯æ‹–æ”¾å…ƒç´ æ¥è¯´ï¼Œå…¶åŒ…å«çš„ä¿¡æ¯éœ€è¦åœ¨dragstartäº‹ä»¶ä¸­è®¾ç½®ï¼Œä½¿ç”¨DataTransfer.setData()ï¼Œå¦‚ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>dragItem<span class="token punctuation">.</span><span class="token function-variable function">ondragstart</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">'text/plain'</span><span class="token punctuation">,</span> <span class="token string">'drag info'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¦‚æœå¸Œæœ›æ‹–åŠ¨æ—¶ï¼Œå±•ç¤ºè‡ªå®šä¹‰çš„å›¾ç‰‡ï¼Œè¿˜å¯ä»¥è°ƒç”¨dataTransfer.setDragImageï¼Œå¦‚ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>dragItem1<span class="token punctuation">.</span><span class="token function-variable function">ondragstart</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'img_url.jpg'</span><span class="token punctuation">;</span> 
  e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">setDragImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨dropäº‹ä»¶ä¸­ï¼Œå¯ä»¥å–å¾—æ‹–æ”¾å…ƒç´ çš„ä¿¡æ¯ï¼Œå¹¶å°†æŒ‡å®šä¿¡æ¯é€šè¿‡domæ“ä½œï¼Œå±•ç¤ºåœ¨ç‰¹å®šåŒºåŸŸï¼Œå¦‚ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>dropArea<span class="token punctuation">.</span><span class="token function-variable function">ondrop</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> data <span class="token operator">=</span> e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token string">&quot;text/plain&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token comment">//æ¸…é™¤æ‹–æ›³å…ƒç´ çš„ç¼“å­˜</span>
  e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">clearData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  div<span class="token punctuation">.</span>textContent <span class="token operator">=</span> data<span class="token punctuation">;</span>
  e<span class="token punctuation">.</span>target<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨DataTransferå¯¹è±¡è¿˜æœ‰ä¸€å¯¹å±æ€§ï¼Œç”¨æ¥ç¡®ä¿é‡Šæ”¾åŒºåŸŸåªèƒ½é‡Šæ”¾ç‰¹å®šç±»å‹çš„æ‹–æ‹½å…ƒç´ ï¼Œå³dropEffectå’ŒeffectAllowedã€‚
effectAllowedåªèƒ½åœ¨dragstartäº‹ä»¶ä¸­è®¾ç½®ï¼Œåœ¨dragenteræˆ–dragoveräº‹ä»¶ä¸­ï¼Œéœ€è¦è®¾ç½®dropEffectçš„å€¼ä¸effectAllowedä¸€è‡´ï¼Œæ‰èƒ½è§¦å‘dropäº‹ä»¶ã€‚å¦‚ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>dragItem<span class="token punctuation">.</span><span class="token function-variable function">ondragstart</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span>effectAllowed <span class="token operator">=</span> <span class="token string">&quot;move&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

dropArea<span class="token punctuation">.</span><span class="token function-variable function">ondragover</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span>dropEffect <span class="token operator">=</span> <span class="token string">&quot;move&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¸æ‹–æ”¾æ“ä½œæ‰€è§¦å‘çš„äº‹ä»¶åŒæ—¶æ´¾å‘çš„å¯¹è±¡æ˜¯DragEventï¼Œå®ƒæ´¾ç”ŸäºMouseEventï¼Œå…·æœ‰Eventä¸MouseEventå¯¹è±¡çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå¹¶å¢åŠ äº†dataTransferå±æ€§ã€‚è¯¥å±æ€§ç”¨äºä¿å­˜æ‹–æ”¾çš„æ•°æ®å’Œäº¤äº’ä¿¡æ¯ï¼Œè¿”å›DataTransferå¯¹è±¡ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// DataTransfer dataTransfer = DragEvent.dataTransfer</span>
</code></pre></div><p>DataTransferå¯¹è±¡å®šä¹‰çš„å±æ€§å’Œæ–¹æ³•æœ‰å¾ˆå¤šç§ï¼Œæˆ‘ä»¬çœ‹ä¸‹åˆ—å…¥æ ‡å‡†çš„å‡ ä¸ªã€‚å…¶ä»–å±æ€§åŠæ–¹æ³•ï¼Œè¯¦ç»†å¯ä»¥æŸ¥çœ‹mdn
å±æ€§
è¯´æ˜
types
åªè¯»å±æ€§ã€‚å®ƒè¿”å›ä¸€ä¸ªæˆ‘ä»¬åœ¨dragstartäº‹ä»¶ä¸­è®¾ç½®çš„æ‹–åŠ¨æ•°æ®æ ¼å¼çš„æ•°ç»„ã€‚ æ ¼å¼é¡ºåºä¸æ‹–åŠ¨æ“ä½œä¸­åŒ…å«çš„æ•°æ®é¡ºåºç›¸åŒã€‚IE10+ã€Edgeã€safari3.1ã€Firefox3.5+ å’ŒChrome4ä»¥ä¸Šæ”¯æŒè¯¥å±æ€§
files
è¿”å›æ‹–åŠ¨æ“ä½œä¸­çš„æ–‡ä»¶åˆ—è¡¨ã€‚åŒ…å«ä¸€ä¸ªåœ¨æ•°æ®ä¼ è¾“ä¸Šæ‰€æœ‰å¯ç”¨çš„æœ¬åœ°æ–‡ä»¶åˆ—è¡¨ã€‚å¦‚æœæ‹–åŠ¨æ“ä½œä¸æ¶‰åŠæ‹–åŠ¨æ–‡ä»¶ï¼Œæ­¤å±æ€§æ˜¯ä¸€ä¸ªç©ºåˆ—è¡¨ã€‚
dropEffect
è·å–å½“å‰é€‰å®šçš„æ‹–æ”¾æ“ä½œçš„ç±»å‹æˆ–å°†æ“ä½œè®¾ç½®ä¸ºæ–°ç±»å‹ã€‚å®ƒåº”è¯¥å§‹ç»ˆè®¾ç½®æˆeffectAllowedçš„å¯èƒ½å€¼ä¹‹ä¸€ã€noneã€moveã€copyã€linkã€‘ã€‚dragoveräº‹ä»¶å¤„ç†ç¨‹åºä¸­é’ˆå¯¹æ”¾ç½®ç›®æ ‡æ¥è®¾ç½®dropEffectã€‚
effectAllowed
æŒ‡å®šæ‹–æ”¾æ“ä½œæ‰€å…è®¸çš„æ•ˆæœã€‚å¿…é¡»æ˜¯å…¶ä¸­ä¹‹ä¸€ã€ none, copy, copyLink, copyMove, link, linkMove, move, all, uninitializedã€‘é»˜è®¤ä¸ºuninitialized è¡¨ç¤ºå…è®¸æ‰€æœ‰çš„æ•ˆæœã€‚ondragstartå¤„ç†ç¨‹åºä¸­è®¾ç½®effectAllowedå±æ€§</p> <p>æ–¹æ³•
è¯´æ˜
void setData(format, data)
å°†æ‹–åŠ¨æ“ä½œçš„æ‹–åŠ¨æ•°æ®è®¾ç½®ä¸ºæŒ‡å®šçš„æ•°æ®å’Œç±»å‹ã€‚formatå¯ä»¥æ˜¯MIMEç±»å‹
String getData(format)
è¿”å›æŒ‡å®šæ ¼å¼çš„æ•°æ®ï¼Œformatä¸setData()ä¸­ä¸€è‡´
void clearData([format])
åˆ é™¤ç»™å®šç±»å‹çš„æ‹–åŠ¨æ“ä½œçš„æ•°æ®ã€‚å¦‚æœç»™å®šç±»å‹çš„æ•°æ®ä¸å­˜åœ¨ï¼Œæ­¤æ–¹æ³•ä¸æ‰§è¡Œä»»ä½•æ“ä½œã€‚å¦‚æœä¸ç»™å®šå‚æ•°ï¼Œåˆ™åˆ é™¤æ‰€æœ‰ç±»å‹çš„æ•°æ®ã€‚
void setDragImage(img, xOffset, yOffset)
æŒ‡å®šä¸€å‰¯å›¾åƒï¼Œå½“æ‹–åŠ¨å‘ç”Ÿæ—¶ï¼Œæ˜¾ç¤ºåœ¨å…‰æ ‡ä¸‹æ–¹ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ä¸ç”¨è®¾ç½®ï¼Œå› ä¸ºè¢«æ‹–åŠ¨çš„èŠ‚ç‚¹è¢«åˆ›å»ºæˆé»˜è®¤å›¾ç‰‡ã€‚x,yå‚æ•°åˆ†åˆ«æŒ‡ç¤ºå›¾åƒçš„æ°´å¹³ã€å‚ç›´åç§»é‡</p> <p>IE10åŠä¹‹å‰ç‰ˆæœ¬ï¼Œä¸æ”¯æŒæ‰©å±•çš„MIMEç±»å‹å
Firefox 5ç‰ˆæœ¬ä¹‹å‰ï¼Œä¸èƒ½æ­£ç¡®çš„å°†urlå’Œtextæ˜ å°„ä¸ºtext/uri-list å’Œtext/plain
var dataTransfer = event.dataTransfer;
// è¯»å–æ–‡æœ¬,
var text = dataTransfer.getData(&quot;Text&quot;);
// è¯»å–URL,
var url = dataTransfer.getData(&quot;url&quot;) || dataTransfer.getData(&quot;text/uri-list&quot;);</p> <p>æµè§ˆå™¨æ”¯æŒç¨‹åº¦
Method of easily dragging and dropping elements on a page, requiring minimal JavaScript.
è¦æ±‚æœ€å°‘çš„jsï¼Œå®ç°æ‹–æ‹½é¡µé¢å…ƒç´ çš„ç®€å•æ–¹æ³•</p> <ul><li>dataTransfer.items åªæœ‰Chromeæ”¯æŒ</li> <li>dropzoneå±æ€§ï¼Œç›®å‰æ²¡æœ‰æµè§ˆå™¨æ”¯æŒ</li> <li>Firefoxæ”¯æŒ.setDragImageä»»ä½•ç±»å‹çš„DOMå…ƒç´ ã€‚Chromeå¿…é¡»æœ‰HTMLImageElementæˆ–è€…ä»»ä½•DOMå…ƒç´ ï¼Œè¯¥DOMå…ƒç´ é™„åŠ åˆ°DOM å’Œæµè§ˆå™¨çš„.setDragImageè§†å£(viewport)å†…ã€‚
1.éƒ¨åˆ†æ”¯æŒæ˜¯æŒ‡ä¸æ”¯æŒdataTransfer.files æˆ–è€… .typeså¯¹è±¡
2.éƒ¨åˆ†æ”¯æŒæ˜¯æŒ‡ä¸æ”¯æŒ.setDragImage
3.éƒ¨åˆ†æ”¯æŒæ˜¯æŒ‡dataTransfer.setData / getData çš„æœ‰é™æ”¯æŒæ ¼å¼</li></ul></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/knowledge/assets/js/app.0598c8f5.js" defer></script><script src="/knowledge/assets/js/85.1db0afa8.js" defer></script>
  </body>
</html>
