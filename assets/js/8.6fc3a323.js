(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{253:function(t,s,e){t.exports=e.p+"assets/img/node_modules.f9c63fe6.png"},254:function(t,s,e){t.exports=e.p+"assets/img/package.49da834e.png"},255:function(t,s,e){t.exports=e.p+"assets/img/module.32c2f27b.png"},415:function(t,s,e){"use strict";e.r(s);var n=[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[n("h2",{attrs:{id:"mime-lookup-报错"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mime-lookup-报错","aria-hidden":"true"}},[t._v("#")]),t._v(" mime.lookup 报错")]),t._v(" "),n("p",[t._v("错误如下： "),n("code",[t._v("mime.lookup is not a function")])]),t._v(" "),n("ul",[n("li",[t._v("原因是：mime 2.x.x 版本修改了函数名 为"),n("code",[t._v("mime.getType()")])])]),t._v(" "),n("p",[t._v("引申： mime.getType()为响应或设置node的"),n("code",[t._v("Content-Type")]),t._v("的头，即设定文件类型")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" mime "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mime'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \nmime"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'txt'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ⇨ 'text/plain' 使用mime模块查询文件的MIME类型：")]),t._v("\nmime"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getExtension")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'text/plain'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ⇨ 'txt' 查询文件护展名mime.getExtension(type)")]),t._v("\n")])])]),n("h2",{attrs:{id:"用node-modules中用模块"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#用node-modules中用模块","aria-hidden":"true"}},[t._v("#")]),t._v(" 用node_modules中用模块")]),t._v(" "),n("p",[t._v("如果用require('hello')，node会尊照规则搜寻这个模块，如下图\n"),n("img",{attrs:{src:e(253),alt:"node_modules执行顺序"}})]),t._v(" "),n("ul",[n("li",[n("p",[t._v("用环境变量NODE_PATH 可以改变 Node 模块默认路径。如果用了它，NODE_PATH 在windows中应该设置为用分号分隔目录列表，在其他操作系统中用冒号分割")])]),t._v(" "),n("li",[n("p",[t._v("注意事项")])])]),t._v(" "),n("ol",[n("li",[n("p",[t._v("如果模块是目录，在模块目录中定义模块但文件必须被命名为index.js，除非你在这个目录下一个叫"),n("code",[t._v("package.json")]),t._v("的文件里特别知名。要指定一个取代index.js 的文件， package.json 文件里必须有一个 JavaScript 对象表示法（json）数据定义的对象，其中有一个名为main的键，指明模块目录内主文件的路径。\n如下图所示\n"),n("img",{attrs:{src:e(254),alt:"package"}})])]),t._v(" "),n("li",[n("p",[t._v("Node 能把模块作为对象缓存起来。如果程序中的两个文件引入了相同的模块，第一个文件会把模块返回的数据存在程序的内存中。这样第二个文件就不会再去访问和计算模块的源文件了。实际上第二个引入有机会修改缓存的数据。这种“猴子布丁”（monkey patching）让一个模块可以改变另一个模块的行为，开发人员可以不用创建它的新版本。")])])]),t._v(" "),n("h2",{attrs:{id:"node-查找模块的步骤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#node-查找模块的步骤","aria-hidden":"true"}},[t._v("#")]),t._v(" node 查找模块的步骤")]),t._v(" "),n("p",[n("img",{attrs:{src:e(255),alt:"node 查找模块的步骤"}}),t._v("\nnode.js实战 2.5")])])}],a=e(0),o=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},n,!1,null,null,null);s.default=o.exports}}]);