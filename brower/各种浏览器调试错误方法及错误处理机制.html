<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>各个浏览器调试错误工具 | oliveying</title>
    <meta name="description" content="前端知识，对前端遇到的问题进行总结">
    <link rel="icon" href="/knowledge/img/favicon.ico">
    
    <link rel="preload" href="/knowledge/assets/css/0.styles.ace1f307.css" as="style"><link rel="preload" href="/knowledge/assets/js/app.e8dd3cdf.js" as="script"><link rel="preload" href="/knowledge/assets/js/11.624fab4d.js" as="script"><link rel="prefetch" href="/knowledge/assets/js/10.cab2dfd3.js"><link rel="prefetch" href="/knowledge/assets/js/100.3d78fa12.js"><link rel="prefetch" href="/knowledge/assets/js/101.fe41c530.js"><link rel="prefetch" href="/knowledge/assets/js/102.23c67f8f.js"><link rel="prefetch" href="/knowledge/assets/js/103.f5eeda53.js"><link rel="prefetch" href="/knowledge/assets/js/104.2913a654.js"><link rel="prefetch" href="/knowledge/assets/js/105.02b87870.js"><link rel="prefetch" href="/knowledge/assets/js/106.99dac106.js"><link rel="prefetch" href="/knowledge/assets/js/107.ac7dfa30.js"><link rel="prefetch" href="/knowledge/assets/js/108.85c819ee.js"><link rel="prefetch" href="/knowledge/assets/js/109.d05e98f1.js"><link rel="prefetch" href="/knowledge/assets/js/110.88179f43.js"><link rel="prefetch" href="/knowledge/assets/js/111.5f837dee.js"><link rel="prefetch" href="/knowledge/assets/js/112.27304219.js"><link rel="prefetch" href="/knowledge/assets/js/113.e0fe88cd.js"><link rel="prefetch" href="/knowledge/assets/js/114.bc53d601.js"><link rel="prefetch" href="/knowledge/assets/js/115.f744864f.js"><link rel="prefetch" href="/knowledge/assets/js/116.74604a5f.js"><link rel="prefetch" href="/knowledge/assets/js/117.d5822d84.js"><link rel="prefetch" href="/knowledge/assets/js/118.cce5a5cf.js"><link rel="prefetch" href="/knowledge/assets/js/119.94b5ede7.js"><link rel="prefetch" href="/knowledge/assets/js/12.e5ddc2c9.js"><link rel="prefetch" href="/knowledge/assets/js/120.b87b9eae.js"><link rel="prefetch" href="/knowledge/assets/js/121.67f51998.js"><link rel="prefetch" href="/knowledge/assets/js/122.932dfdac.js"><link rel="prefetch" href="/knowledge/assets/js/123.c17c1265.js"><link rel="prefetch" href="/knowledge/assets/js/124.5a7cdfae.js"><link rel="prefetch" href="/knowledge/assets/js/125.08519349.js"><link rel="prefetch" href="/knowledge/assets/js/126.a6c5f21f.js"><link rel="prefetch" href="/knowledge/assets/js/127.7948f123.js"><link rel="prefetch" href="/knowledge/assets/js/128.47604092.js"><link rel="prefetch" href="/knowledge/assets/js/129.fabc7e3b.js"><link rel="prefetch" href="/knowledge/assets/js/13.5bdd4613.js"><link rel="prefetch" href="/knowledge/assets/js/130.2b2ea0f7.js"><link rel="prefetch" href="/knowledge/assets/js/131.fab61ab0.js"><link rel="prefetch" href="/knowledge/assets/js/132.f2426a1c.js"><link rel="prefetch" href="/knowledge/assets/js/133.d5367134.js"><link rel="prefetch" href="/knowledge/assets/js/134.dec57ae1.js"><link rel="prefetch" href="/knowledge/assets/js/135.ac2a6968.js"><link rel="prefetch" href="/knowledge/assets/js/136.172c2abb.js"><link rel="prefetch" href="/knowledge/assets/js/137.4709b575.js"><link rel="prefetch" href="/knowledge/assets/js/138.f67e274c.js"><link rel="prefetch" href="/knowledge/assets/js/139.b799f8ca.js"><link rel="prefetch" href="/knowledge/assets/js/14.6d6f1e72.js"><link rel="prefetch" href="/knowledge/assets/js/140.04fbc1f5.js"><link rel="prefetch" href="/knowledge/assets/js/141.7b8c39ff.js"><link rel="prefetch" href="/knowledge/assets/js/142.8e8e3539.js"><link rel="prefetch" href="/knowledge/assets/js/143.95637b6a.js"><link rel="prefetch" href="/knowledge/assets/js/144.fc9f2380.js"><link rel="prefetch" href="/knowledge/assets/js/145.c8a626a8.js"><link rel="prefetch" href="/knowledge/assets/js/146.3d60801f.js"><link rel="prefetch" href="/knowledge/assets/js/147.b6f1d76c.js"><link rel="prefetch" href="/knowledge/assets/js/148.24dbd259.js"><link rel="prefetch" href="/knowledge/assets/js/149.71c35850.js"><link rel="prefetch" href="/knowledge/assets/js/15.08be0c38.js"><link rel="prefetch" href="/knowledge/assets/js/150.09482b85.js"><link rel="prefetch" href="/knowledge/assets/js/151.c295bfe8.js"><link rel="prefetch" href="/knowledge/assets/js/152.be248ca9.js"><link rel="prefetch" href="/knowledge/assets/js/153.c5bbd5b7.js"><link rel="prefetch" href="/knowledge/assets/js/154.a5d34200.js"><link rel="prefetch" href="/knowledge/assets/js/155.6ba3dd1e.js"><link rel="prefetch" href="/knowledge/assets/js/156.7967fa9a.js"><link rel="prefetch" href="/knowledge/assets/js/157.732ccca0.js"><link rel="prefetch" href="/knowledge/assets/js/158.ef6a3f7d.js"><link rel="prefetch" href="/knowledge/assets/js/159.ab6969e8.js"><link rel="prefetch" href="/knowledge/assets/js/16.9d9f1649.js"><link rel="prefetch" href="/knowledge/assets/js/160.317ac126.js"><link rel="prefetch" href="/knowledge/assets/js/161.cd5a856d.js"><link rel="prefetch" href="/knowledge/assets/js/162.95c7c3fa.js"><link rel="prefetch" href="/knowledge/assets/js/163.c974bfc3.js"><link rel="prefetch" href="/knowledge/assets/js/164.04b25e60.js"><link rel="prefetch" href="/knowledge/assets/js/165.74a0ca3a.js"><link rel="prefetch" href="/knowledge/assets/js/166.59ec0281.js"><link rel="prefetch" href="/knowledge/assets/js/167.5ff16679.js"><link rel="prefetch" href="/knowledge/assets/js/168.8db57035.js"><link rel="prefetch" href="/knowledge/assets/js/169.2cf5e3fa.js"><link rel="prefetch" href="/knowledge/assets/js/17.b6dae52c.js"><link rel="prefetch" href="/knowledge/assets/js/170.fd2c5e83.js"><link rel="prefetch" href="/knowledge/assets/js/171.f0323177.js"><link rel="prefetch" href="/knowledge/assets/js/172.6a85f157.js"><link rel="prefetch" href="/knowledge/assets/js/173.fff9876e.js"><link rel="prefetch" href="/knowledge/assets/js/174.bb3663a1.js"><link rel="prefetch" href="/knowledge/assets/js/175.d1c7a3b1.js"><link rel="prefetch" href="/knowledge/assets/js/176.3134d73e.js"><link rel="prefetch" href="/knowledge/assets/js/18.812eb236.js"><link rel="prefetch" href="/knowledge/assets/js/19.bab9b15f.js"><link rel="prefetch" href="/knowledge/assets/js/2.b08685c4.js"><link rel="prefetch" href="/knowledge/assets/js/20.acbffa94.js"><link rel="prefetch" href="/knowledge/assets/js/21.c85c8dfd.js"><link rel="prefetch" href="/knowledge/assets/js/22.7586bec6.js"><link rel="prefetch" href="/knowledge/assets/js/23.add99c2f.js"><link rel="prefetch" href="/knowledge/assets/js/24.f37b8bba.js"><link rel="prefetch" href="/knowledge/assets/js/25.5a4990db.js"><link rel="prefetch" href="/knowledge/assets/js/26.c08d72cb.js"><link rel="prefetch" href="/knowledge/assets/js/27.55806bd1.js"><link rel="prefetch" href="/knowledge/assets/js/28.ae1c0c21.js"><link rel="prefetch" href="/knowledge/assets/js/29.801243ae.js"><link rel="prefetch" href="/knowledge/assets/js/3.89aa0963.js"><link rel="prefetch" href="/knowledge/assets/js/30.3f84479d.js"><link rel="prefetch" href="/knowledge/assets/js/31.2686d104.js"><link rel="prefetch" href="/knowledge/assets/js/32.f4ea632e.js"><link rel="prefetch" href="/knowledge/assets/js/33.d3879d82.js"><link rel="prefetch" href="/knowledge/assets/js/34.ed389075.js"><link rel="prefetch" href="/knowledge/assets/js/35.f2a2732a.js"><link rel="prefetch" href="/knowledge/assets/js/36.a1801614.js"><link rel="prefetch" href="/knowledge/assets/js/37.722cf11d.js"><link rel="prefetch" href="/knowledge/assets/js/38.51fd0fe1.js"><link rel="prefetch" href="/knowledge/assets/js/39.e4d78c95.js"><link rel="prefetch" href="/knowledge/assets/js/4.354dd9a6.js"><link rel="prefetch" href="/knowledge/assets/js/40.33abc710.js"><link rel="prefetch" href="/knowledge/assets/js/41.be47b89b.js"><link rel="prefetch" href="/knowledge/assets/js/42.3424b8f6.js"><link rel="prefetch" href="/knowledge/assets/js/43.412ec26c.js"><link rel="prefetch" href="/knowledge/assets/js/44.f041cb67.js"><link rel="prefetch" href="/knowledge/assets/js/45.0f0b3611.js"><link rel="prefetch" href="/knowledge/assets/js/46.5c1a23f5.js"><link rel="prefetch" href="/knowledge/assets/js/47.bdee6fd4.js"><link rel="prefetch" href="/knowledge/assets/js/48.06c1e839.js"><link rel="prefetch" href="/knowledge/assets/js/49.0a196c01.js"><link rel="prefetch" href="/knowledge/assets/js/5.1cf9ccc8.js"><link rel="prefetch" href="/knowledge/assets/js/50.83021277.js"><link rel="prefetch" href="/knowledge/assets/js/51.34dd097f.js"><link rel="prefetch" href="/knowledge/assets/js/52.aafd45f4.js"><link rel="prefetch" href="/knowledge/assets/js/53.11db83c2.js"><link rel="prefetch" href="/knowledge/assets/js/54.b192f9a2.js"><link rel="prefetch" href="/knowledge/assets/js/55.a6201ef7.js"><link rel="prefetch" href="/knowledge/assets/js/56.fdd2a802.js"><link rel="prefetch" href="/knowledge/assets/js/57.c07dfb07.js"><link rel="prefetch" href="/knowledge/assets/js/58.b175e5e6.js"><link rel="prefetch" href="/knowledge/assets/js/59.460554d1.js"><link rel="prefetch" href="/knowledge/assets/js/6.e0dc6229.js"><link rel="prefetch" href="/knowledge/assets/js/60.01075b2a.js"><link rel="prefetch" href="/knowledge/assets/js/61.96e4dd5e.js"><link rel="prefetch" href="/knowledge/assets/js/62.8cbeabd9.js"><link rel="prefetch" href="/knowledge/assets/js/63.514d1e5a.js"><link rel="prefetch" href="/knowledge/assets/js/64.0489a519.js"><link rel="prefetch" href="/knowledge/assets/js/65.52e0551e.js"><link rel="prefetch" href="/knowledge/assets/js/66.bb04ba6a.js"><link rel="prefetch" href="/knowledge/assets/js/67.7df47e57.js"><link rel="prefetch" href="/knowledge/assets/js/68.d4468033.js"><link rel="prefetch" href="/knowledge/assets/js/69.1d5a1bfa.js"><link rel="prefetch" href="/knowledge/assets/js/7.3f2044f5.js"><link rel="prefetch" href="/knowledge/assets/js/70.3560079d.js"><link rel="prefetch" href="/knowledge/assets/js/71.51be2607.js"><link rel="prefetch" href="/knowledge/assets/js/72.f659f825.js"><link rel="prefetch" href="/knowledge/assets/js/73.3a22d685.js"><link rel="prefetch" href="/knowledge/assets/js/74.c314d112.js"><link rel="prefetch" href="/knowledge/assets/js/75.22870c42.js"><link rel="prefetch" href="/knowledge/assets/js/76.62e82f53.js"><link rel="prefetch" href="/knowledge/assets/js/77.2a7db910.js"><link rel="prefetch" href="/knowledge/assets/js/78.d1f5a221.js"><link rel="prefetch" href="/knowledge/assets/js/79.385c5f94.js"><link rel="prefetch" href="/knowledge/assets/js/8.6fc3a323.js"><link rel="prefetch" href="/knowledge/assets/js/80.54244878.js"><link rel="prefetch" href="/knowledge/assets/js/81.1f0189de.js"><link rel="prefetch" href="/knowledge/assets/js/82.0bfe2d2a.js"><link rel="prefetch" href="/knowledge/assets/js/83.0416a2a4.js"><link rel="prefetch" href="/knowledge/assets/js/84.f840385b.js"><link rel="prefetch" href="/knowledge/assets/js/85.69de124b.js"><link rel="prefetch" href="/knowledge/assets/js/86.47c89fa3.js"><link rel="prefetch" href="/knowledge/assets/js/87.b96b0c0d.js"><link rel="prefetch" href="/knowledge/assets/js/88.896e7dda.js"><link rel="prefetch" href="/knowledge/assets/js/89.fe282703.js"><link rel="prefetch" href="/knowledge/assets/js/9.95c8ac01.js"><link rel="prefetch" href="/knowledge/assets/js/90.8c7d7fb3.js"><link rel="prefetch" href="/knowledge/assets/js/91.89276ba9.js"><link rel="prefetch" href="/knowledge/assets/js/92.c1486a90.js"><link rel="prefetch" href="/knowledge/assets/js/93.5bc1d412.js"><link rel="prefetch" href="/knowledge/assets/js/94.c14fcea9.js"><link rel="prefetch" href="/knowledge/assets/js/95.a36950a9.js"><link rel="prefetch" href="/knowledge/assets/js/96.5d2430af.js"><link rel="prefetch" href="/knowledge/assets/js/97.cd3da901.js"><link rel="prefetch" href="/knowledge/assets/js/98.66c81011.js"><link rel="prefetch" href="/knowledge/assets/js/99.c60a9172.js">
    <link rel="stylesheet" href="/knowledge/assets/css/0.styles.ace1f307.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/knowledge/" class="home-link router-link-active"><!----> <span class="site-name">oliveying</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/knowledge/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">book</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knowledge/bgoodparts/" class="nav-link">语言精粹</a></li><li class="dropdown-item"><!----> <a href="/knowledge/http/" class="nav-link">图解http</a></li><li class="dropdown-item"><!----> <a href="/knowledge/es6/" class="nav-link">es6</a></li><li class="dropdown-item"><!----> <a href="/knowledge/javascript/" class="nav-link">javascript教程</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">前端技术</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knowledge/html/" class="nav-link">html</a></li><li class="dropdown-item"><!----> <a href="/knowledge/css/" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/knowledge/js/" class="nav-link">javascript</a></li><li class="dropdown-item"><!----> <a href="/knowledge/jsHigh/" class="nav-link">javascriptHigh</a></li><li class="dropdown-item"><!----> <a href="/knowledge/h5/" class="nav-link">h5最新用法</a></li><li class="dropdown-item"><!----> <a href="/knowledge/node/" class="nav-link">node</a></li><li class="dropdown-item"><!----> <a href="/knowledge/brower/" class="nav-link router-link-active">浏览器特性</a></li><li class="dropdown-item"><!----> <a href="/knowledge/d3/" class="nav-link">d3</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">总结</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knowledge/summary/" class="nav-link">总结</a></li><li class="dropdown-item"><!----> <a href="/knowledge/interview/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/knowledge/problem/" class="nav-link">problem</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">扩展</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knowledge/start/" class="nav-link">启动</a></li><li class="dropdown-item"><!----> <a href="/knowledge/tool/" class="nav-link">工具用法</a></li><li class="dropdown-item"><!----> <a href="/knowledge/markdown/" class="nav-link">markDown</a></li><li class="dropdown-item"><!----> <a href="/knowledge/linux/" class="nav-link">linux</a></li><li class="dropdown-item"><!----> <a href="/knowledge/mac/" class="nav-link">mac</a></li><li class="dropdown-item"><!----> <a href="/knowledge/develop/" class="nav-link">提升</a></li><li class="dropdown-item"><!----> <a href="/knowledge/redis/" class="nav-link">redis</a></li></ul></div></div> <a href="https://github.com/oliveying/knowledge" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/knowledge/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">book</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knowledge/bgoodparts/" class="nav-link">语言精粹</a></li><li class="dropdown-item"><!----> <a href="/knowledge/http/" class="nav-link">图解http</a></li><li class="dropdown-item"><!----> <a href="/knowledge/es6/" class="nav-link">es6</a></li><li class="dropdown-item"><!----> <a href="/knowledge/javascript/" class="nav-link">javascript教程</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">前端技术</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knowledge/html/" class="nav-link">html</a></li><li class="dropdown-item"><!----> <a href="/knowledge/css/" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/knowledge/js/" class="nav-link">javascript</a></li><li class="dropdown-item"><!----> <a href="/knowledge/jsHigh/" class="nav-link">javascriptHigh</a></li><li class="dropdown-item"><!----> <a href="/knowledge/h5/" class="nav-link">h5最新用法</a></li><li class="dropdown-item"><!----> <a href="/knowledge/node/" class="nav-link">node</a></li><li class="dropdown-item"><!----> <a href="/knowledge/brower/" class="nav-link router-link-active">浏览器特性</a></li><li class="dropdown-item"><!----> <a href="/knowledge/d3/" class="nav-link">d3</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">总结</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knowledge/summary/" class="nav-link">总结</a></li><li class="dropdown-item"><!----> <a href="/knowledge/interview/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/knowledge/problem/" class="nav-link">problem</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">扩展</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knowledge/start/" class="nav-link">启动</a></li><li class="dropdown-item"><!----> <a href="/knowledge/tool/" class="nav-link">工具用法</a></li><li class="dropdown-item"><!----> <a href="/knowledge/markdown/" class="nav-link">markDown</a></li><li class="dropdown-item"><!----> <a href="/knowledge/linux/" class="nav-link">linux</a></li><li class="dropdown-item"><!----> <a href="/knowledge/mac/" class="nav-link">mac</a></li><li class="dropdown-item"><!----> <a href="/knowledge/develop/" class="nav-link">提升</a></li><li class="dropdown-item"><!----> <a href="/knowledge/redis/" class="nav-link">redis</a></li></ul></div></div> <a href="https://github.com/oliveying/knowledge" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/knowledge/brower/检测浏览器方法.html" class="sidebar-link">用户代理字符串检测脚本，包括检测呈现引擎、平台、windows操作系统、移动设备和游戏系统</a></li><li><a href="/knowledge/brower/浏览器特性.html" class="sidebar-link">浏览器特性</a></li><li><a href="/knowledge/brower/各种浏览器调试错误方法及错误处理机制.html" class="active sidebar-link">各个浏览器调试错误工具</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledge/brower/各种浏览器调试错误方法及错误处理机制.html#ie调试错误" class="sidebar-link">IE调试错误</a></li><li class="sidebar-sub-header"><a href="/knowledge/brower/各种浏览器调试错误方法及错误处理机制.html#firefox" class="sidebar-link">Firefox</a></li><li class="sidebar-sub-header"><a href="/knowledge/brower/各种浏览器调试错误方法及错误处理机制.html#safari的开发菜单" class="sidebar-link">Safari的开发菜单</a></li><li class="sidebar-sub-header"><a href="/knowledge/brower/各种浏览器调试错误方法及错误处理机制.html#opera" class="sidebar-link">Opera</a></li><li class="sidebar-sub-header"><a href="/knowledge/brower/各种浏览器调试错误方法及错误处理机制.html#try-catch" class="sidebar-link">try catch</a></li><li class="sidebar-sub-header"><a href="/knowledge/brower/各种浏览器调试错误方法及错误处理机制.html#finally子句" class="sidebar-link">finally子句</a></li><li class="sidebar-sub-header"><a href="/knowledge/brower/各种浏览器调试错误方法及错误处理机制.html#错误类型" class="sidebar-link">错误类型</a></li><li class="sidebar-sub-header"><a href="/knowledge/brower/各种浏览器调试错误方法及错误处理机制.html#抛出错误" class="sidebar-link">抛出错误</a></li><li class="sidebar-sub-header"><a href="/knowledge/brower/各种浏览器调试错误方法及错误处理机制.html#错误（error）事件" class="sidebar-link">错误（error）事件</a></li><li class="sidebar-sub-header"><a href="/knowledge/brower/各种浏览器调试错误方法及错误处理机制.html#处理错误策略" class="sidebar-link">处理错误策略</a></li><li class="sidebar-sub-header"><a href="/knowledge/brower/各种浏览器调试错误方法及错误处理机制.html#常见的错误类型" class="sidebar-link">常见的错误类型</a></li><li class="sidebar-sub-header"><a href="/knowledge/brower/各种浏览器调试错误方法及错误处理机制.html#调试技术" class="sidebar-link">调试技术</a></li><li class="sidebar-sub-header"><a href="/knowledge/brower/各种浏览器调试错误方法及错误处理机制.html#常见的-ie-错误" class="sidebar-link">常见的 IE 错误</a></li><li class="sidebar-sub-header"><a href="/knowledge/brower/各种浏览器调试错误方法及错误处理机制.html#总结几种避免浏览器相应javascript错误的方法" class="sidebar-link">总结几种避免浏览器相应JavaScript错误的方法</a></li></ul></li></ul> </div> <div class="page"> <div class="content"><h1 id="各个浏览器调试错误工具"><a href="#各个浏览器调试错误工具" aria-hidden="true" class="header-anchor">#</a> 各个浏览器调试错误工具</h1> <blockquote><p>JavaScript高级程序设计，第17章</p></blockquote> <h2 id="ie调试错误"><a href="#ie调试错误" aria-hidden="true" class="header-anchor">#</a> IE调试错误</h2> <h2 id="firefox"><a href="#firefox" aria-hidden="true" class="header-anchor">#</a> Firefox</h2> <h2 id="safari的开发菜单"><a href="#safari的开发菜单" aria-hidden="true" class="header-anchor">#</a> Safari的开发菜单</h2> <ul><li>开启方法</li></ul> <ol><li><p>运行Safari,点击“Safari”菜单下面的“偏好设置（Preferences...）”，切换到“高级选项（Advanced）”：
勾选在菜单栏中显示开发菜单
<img src="/knowledge/assets/img/10.ed09a9e2.png" alt="jpg"></p></li> <li><p>勾选“在菜单栏显示&quot;开发&quot;菜单（ShowDevelop menu in menu bar）”，关闭偏好设置。此时在Safari的工具栏出现“开发（Develop）”菜单：</p> <p><img src="/knowledge/assets/img/13.b691cc55.png" alt="jpg"></p></li></ol> <h2 id="opera"><a href="#opera" aria-hidden="true" class="header-anchor">#</a> Opera</h2> <h1 id="错误处理"><a href="#错误处理" aria-hidden="true" class="header-anchor">#</a> 错误处理</h1> <h2 id="try-catch"><a href="#try-catch" aria-hidden="true" class="header-anchor">#</a> try catch</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token comment">// 可能会导致错误的代码</span>
  console<span class="token punctuation">.</span><span class="token function">g</span><span class="token punctuation">(</span><span class="token string">'d'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 在错误发生时怎么处理</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="finally子句"><a href="#finally子句" aria-hidden="true" class="header-anchor">#</a> finally子句</h2> <ul><li>只要代码中包含了finally子句，无论是try或catch语句快中的return都将被忽略</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">try</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span><span class="token keyword">finally</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="错误类型"><a href="#错误类型" aria-hidden="true" class="header-anchor">#</a> 错误类型</h2> <ul><li>执行代码期间可能会发生的错误类型有多种类型。每种错误都有对应的错误类型。而当错误发生时，就会抛出相应类型的错误对象。ECMA-262定义了下列7中错误类型：</li></ul> <ol><li>Error  // 基类型，其他错误类型都继承自该类型。因此所有错误类型共享一组相同的属性。Error类型的错误很少见，如果有，也是浏览器抛出的；这个基类型的主要目的是供开发人员抛出自定义错误。</li> <li>EvalError  // 在 eval 函数发生异常时抛出。可能性小：没有把eval当作函数调用，会抛错。</li> <li>RangeError // 数组超出相应范围时触发，经常出现这种错误。例：定义数组时，指定例不支持的项数(如 -20 或者Number.MAX_VALUE)，就会触发 new Array(-20) , newArray(Number.MAX_VALUE)</li> <li>ReferenceError  // 引用错误，通常在访问不存在的变量时，会发生这种错误如 var obj = x；</li> <li>SyntaxError  // 语法错误，把语法错误的JavaScript字符串传入 eval()函数时，就会导致此类错误。不常出现</li> <li>TypeError  // 类型错误，在变量中保存着意外的类型时，或者在访问不存在的方法时，都会导致这种错误例：var o = new 10; alert('name' in true)</li> <li>URIError // 在使用 encodeURI() 或 decodeURI()，而URI 格式不正确时 ，错误很少见，因为这两个函数容错性高</li></ol> <h2 id="抛出错误"><a href="#抛出错误" aria-hidden="true" class="header-anchor">#</a> 抛出错误</h2> <p>throw 操作符，用于随时抛出自定义错误。抛出错误时，必须要给 throw 操作符指定一个值，这个值是什么类型，没有要求。下列代码都是有效的</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">throw</span> <span class="token number">12345</span>
<span class="token keyword">throw</span> <span class="token string">'hello world'</span>
<span class="token keyword">throw</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">throw</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'javascript'</span><span class="token punctuation">}</span>
</code></pre></div><p>在遇到 throw 操作符时，代码会立即停止执行。仅当有 try-catch 语句捕获到被抛出的值时，代码才会执行</p> <p>通过使用某种内置错误类型，可以更真是的模拟浏览器错误。每种错误类型的构造函数接收一个参数，即实际的错误消息。下面例子</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Something bad happened'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>利用原型链还可以通过继承 Error 来创建自定义错误类型。此时需要为新创建的类型指定 name 和 message 属性</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">InvalidUrlError</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'InvalidUrlError'</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> message<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">InvalidUrlError</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">InvalidUrlError</span><span class="token punctuation">(</span><span class="token string">'参数错误：404'</span><span class="token punctuation">)</span>

</code></pre></div><p><em>IE只有在抛出 Error 对象时，才会显示自定义错误消息。对于其他类型，它都无一例外都显示&quot;exception thrown and not caught&quot;（抛出了一场，且未被捕获）</em></p> <ul><li>我们只应该捕获那些你确切的知道该如何处理的错误。<code>捕获错误</code>的目的在于避免浏览器以默认方式处理它们，而<code>抛出错误</code>的目的在于提供错误发生具体原因的消息。</li></ul> <h2 id="错误（error）事件"><a href="#错误（error）事件" aria-hidden="true" class="header-anchor">#</a> 错误（error）事件</h2> <p>任何没有通过 try-catch 处理的错误都会触发 window 对象的 error 事件。IE,Firefox ,Chrome 保持向后兼容，并没有对这个事件作任何修改（Opera 和 Safari 不支持 error 事件）</p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">,</span> url<span class="token punctuation">,</span> line</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 错误消息、错误所在url、错误所在第行号</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// 可以阻止浏览器默认行为</span>
<span class="token punctuation">}</span>
</code></pre></div><p>图像也支持 error 事件。只要图像的 src 特性中的 URL 不能返回可以被识别的图像格式，就会触发 error 事件。此时的 error 事件遵循 DOM 格式，会返回一个以图像为目标的 event 对象。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
EventUtil<span class="token punctuation">.</span><span class="token function">addHandler</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token string">'load'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Image loaded!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
EventUtil<span class="token punctuation">.</span><span class="token function">addHandler</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Image not loaded!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

image<span class="token punctuation">.</span>src<span class="token operator">=</span> <span class="token string">'smilex.gif'</span>
</code></pre></div><h2 id="处理错误策略"><a href="#处理错误策略" aria-hidden="true" class="header-anchor">#</a> 处理错误策略</h2> <p>例如；记录和监控系统。这些攻击的用途在于分析错误模式，追查错误原因，同时帮助确定错误会影响多少用户。</p> <h2 id="常见的错误类型"><a href="#常见的错误类型" aria-hidden="true" class="header-anchor">#</a> 常见的错误类型</h2> <ul><li>类型转换错误</li> <li>数据类型错误</li> <li>通信错误</li></ul> <h3 id="类型转换错误"><a href="#类型转换错误" aria-hidden="true" class="header-anchor">#</a> 类型转换错误</h3> <p>类型转换错误发生在使用某个操作符，或者使用其他可能会自动转换值的数据类型的语言结构时，在使用相等（==）和不相等（！=）操作符，或者在if、for及 while 等流控制语句中使用非布尔值时，最常发生类型转换错误。</p> <p>建议使用全等，if中建议使用typeof 而不是直接if(value){}</p> <h3 id="数据类型错误"><a href="#数据类型错误" aria-hidden="true" class="header-anchor">#</a> 数据类型错误</h3> <p>JavaScript 是松散类型的，也就是说，在使用变量和函数参数之前，不会对它们进行比较以确保它们对数据类型正确。为了保证不会发生数据类型错误，只能依靠开发人员便携适当的数据类型检测代码。在将预料之外的值传递给函数的情况下，最容易发生数据类型错误。</p> <p>大体来说，基本类型的值应该使用 typeof 来检测，而对象的值则应该使用 instanceof 来检测。根据使用函数的方式，有时候并不需要逐个检测所有参数的数据类型。但是，面向公众的 API 则必须无条件地执行类型检查，以确保函数能够正常的执行。</p> <h3 id="通信错误"><a href="#通信错误" aria-hidden="true" class="header-anchor">#</a> 通信错误</h3> <ul><li>对于查询字符串不使用 encodeURIComponent();</li> <li>在服务器响应的数据不正确。动态加载脚本和动态加载样式，运用两种技术都有可能遇到资源不可用的情况。在某些情况下，使用 ajax 通信可以提供有关错误状态的更多信息。
对于查询字符串，必须使用 encodeURIComponent() 方法，为了确保，可以定义一个处理查询字符串的函数</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">addQueryString</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> name<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token string">'?'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        url <span class="token operator">+=</span> <span class="token string">'?'</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        url <span class="token operator">+=</span> <span class="token string">'&amp;'</span>
    <span class="token punctuation">}</span>
    url <span class="token operator">+=</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> url<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="区分致命错误和非致命错误"><a href="#区分致命错误和非致命错误" aria-hidden="true" class="header-anchor">#</a> 区分致命错误和非致命错误</h3> <ul><li>非致命错误</li></ul> <ol><li>不影响用户的主要任务；</li> <li>只影响页面的一部分</li> <li>可以恢复</li> <li>重复相同操作可以消除错误</li></ol> <ul><li>致命错误 比如for循环里可以增加 try-catch 语句</li></ul> <ol><li>应用程序根本无法继续运行</li> <li>错误明显影响了用户的主要操作</li> <li>会导致其他连带错误</li></ol> <h3 id="把错误记录到服务器"><a href="#把错误记录到服务器" aria-hidden="true" class="header-anchor">#</a> 把错误记录到服务器</h3> <p>开发 web 应用程序过程中的一种常见的做法，就是集中保存错误日志，以便查找重要错误的原因</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">logError</span><span class="token punctuation">(</span><span class="token parameter">sev<span class="token punctuation">,</span> msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 表示验证程度的数值或字符串及错误的消息</span>
    <span class="token keyword">var</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'log.php?sev='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>sev<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'&amp;msg='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这样做的好处：</p> <ol><li>所有浏览器都支持 Image 对象，包括那些不支持 XMLHTTPRequest 对象的浏览器。</li> <li>可以避免跨域限制。通常都是一台服务器处理多台服务器的错误，而这种情况下使用 XMLHTTPRequest 是不行的</li> <li>在记录错误的过程中，出问题的概率比较低</li></ol> <p>只要是使用 try-catch 语句，就应该把相应的错误记录到日志中。来看下面的例子。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> node<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">logError</span><span class="token punctuation">(</span><span class="token string">'nonfatal(非致命)'</span><span class="token punctuation">,</span> <span class="token string">'module init failed:'</span> <span class="token operator">+</span> error<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="调试技术"><a href="#调试技术" aria-hidden="true" class="header-anchor">#</a> 调试技术</h2> <h3 id="将消息记录到控制台"><a href="#将消息记录到控制台" aria-hidden="true" class="header-anchor">#</a> 将消息记录到控制台</h3> <ul><li>error</li> <li>info</li> <li>log</li> <li>warn</li></ul> <p>Opera 10.5 之前的版本中，JavaScript 控制台可以通过 <code>opera.postError()</code> 方法来访问，接收一个参数;</p> <h3 id="将消息记录到当前页面"><a href="#将消息记录到当前页面" aria-hidden="true" class="header-anchor">#</a> 将消息记录到当前页面</h3> <ul><li>这种技术在不支持 JavaScript 控制台到 IE7 及更早版本或其他浏览器中十分有用</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> console <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'debuginfo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>console <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'debuginfo'</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>console<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span>innerText <span class="token operator">+=</span> <span class="token string">'&lt;p&gt;'</span> <span class="token operator">+</span> message <span class="token operator">+</span> <span class="token string">'&lt;/p&gt;'</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="抛出错误-2"><a href="#抛出错误-2" aria-hidden="true" class="header-anchor">#</a> 抛出错误</h3> <p>抛出错误也是一种调试代码的好办法。如果错误消息很具体，基本就可以把它当作确定错误来源的依据</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">assert</span><span class="token punctuation">(</span><span class="token parameter">condition<span class="token punctuation">,</span> message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">divide</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">assert</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> num1 <span class="token operator">==</span> <span class="token string">'number'</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> num2 <span class="token operator">==</span> <span class="token string">'number'</span><span class="token punctuation">,</span> <span class="token string">'divide(): both arguments must be numbers.'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> num1 <span class="token operator">/</span> num2
  <span class="token punctuation">}</span>
</code></pre></div><h2 id="常见的-ie-错误"><a href="#常见的-ie-错误" aria-hidden="true" class="header-anchor">#</a> 常见的 IE 错误</h2> <h3 id="操作终止"><a href="#操作终止" aria-hidden="true" class="header-anchor">#</a> 操作终止</h3> <p>当 <code>&lt;script&gt;</code> 节点被包含在某个元素中，而且 JavaScript 代码又要使用 appendChild()，innerHTML 或其他 DOM 方法修改该元素的父元素或祖先元素时，将会发生操作终止错误（因为只能修改已经加载完毕的元素）</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
          document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>要避免这个问题，可以等到目标元素加载完毕后再对他进行操作，或者使用其他操作方法。例如， 为document.body 添加一个绝对定位在页面上的覆盖层，就是一种非常常见的操作。因此上面的例子可以使用 insertBefore</p> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>除了改变方法之外，还可以把 <code>&lt;script&gt;</code> 元素从包含元素中移出来，直接作为<code>&lt;body&gt;</code> 的子元素。</p> <h3 id="无效字符"><a href="#无效字符" aria-hidden="true" class="header-anchor">#</a> 无效字符</h3> <p>根据语法，JavaScript 文件必须只包含特定的字符。在JavaScript 文件中存在无效字符时， IE会抛出无效字符( invalid character )错误。所谓无效字符，就是JavaScript语法中未定义的字符。例如，有一个很像减号但却由Unicode 值8211 表示的字符( \u2013 )，就不能用作常规的减号( ASCII 编码为45 ),因为JavaScript 语法中没有定义该字符。这个字符通常是在Word 文档中自动插入的。如果你的代码是从Word 文档中复制到文本编辑器中，然后又在IE 中运行的，那么就可能会遇到无效字符错误。其他浏览器对无效字符做出的反应与IE类似，Firefox会抛出非法字符（iIlegal character） 错误，Safari会报告发生了语法错误，而Opera 则会报告发生了ReferenceError （引用错误）。因为它会将无效字符解释为未定义的标识符。</p> <h3 id="未找到成员"><a href="#未找到成员" aria-hidden="true" class="header-anchor">#</a> 未找到成员</h3> <p>IE中的所有DOM对象都是以COM 对象，而非原生JavaScript对象的形式实现的。这会导致一些与垃圾收集相关的非常奇怪的行为。IE中的未找到成员( Member not found )错误，就是由于垃圾收集例程配合错误所直接导致的。</p> <p>具体来说，如果在对象被销毁之后，又给该对象赋值，就会导致未找到成员错误。而导致这个错误的，一定是COM 对象。发生这个错误的最常见情形是使用event 对象的时候。IE中的event对象是window的属性，该对象在事件发生时创建，在最后一个事件处理程序执行完毕后销毁。假设你在一个闭包中使用了event 对象，而该闭包不会立即执行，那么在将来调用它并给event 的属性赋值时，就会导致未找到成员错误，如下面的例子所示。</p> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> event <span class="token operator">=</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    event<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">//未找到成员错误</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>在这段代码中，我们将一个单击事件处理程序指定给了文档。在事件处理程序中，window.event被保存在event 变量中。然后，传人setTimeout()中的闭包里又包含了event变量。当单击事件处理程序执行完毕后，event 对象就会被销毁，因而闭包中引用对象的成员就成了不存在的了。换句话说，由于不能在COM对象被销毁之后再给其成员赋值，在闭包中给returnValue 赋值就会导致未找到成员错误。</p> <h3 id="未知运行时错误"><a href="#未知运行时错误" aria-hidden="true" class="header-anchor">#</a> 未知运行时错误</h3> <p>当使用innerHTML或outerHTML以下列方式指定HTML时，就会发生未知运行时错误( Unknown runtime error )：一是把块元素插入到行内元素时， 二是访问表格任意部分( table 、 tbody等)的任意属性时。例如，从技术角度说，span标签不能包含div之类的块级元素，因此下面的代码就会导致未知运行时错误：</p> <div class="language-html extra-class"><pre class="language-html"><code>span.innerHTML = &quot;div Hi /div&quot;;  //这里，span包含了div元素
</code></pre></div><p>在遇到把块级元素插入到不恰当位置的情况时，其他浏览器会尝试纠正并隐藏错误，而IE在这一点上反倒很较真儿。</p> <h3 id="语法错误"><a href="#语法错误" aria-hidden="true" class="header-anchor">#</a> 语法错误</h3> <p>通常，只要IE一报告发生了语法错误( syntax error )，都可以很快找到错误的原因。这时候，原因可能是代码中少了一个分号，或者花括号前后不对应。然而，还有一种原因不十分明显的情况需要格外注意。</p> <p>如果你引用了外部的 JavaScript 文件，而该文件最终并没有返回JavaScript代码，IE也会抛出语法错误。例如，script元素的src特性指向了一个HTML文件，就会导致语法错误。报告语法错误的位置时，通常都会说该错误位于脚本第一行的第一个字符处。Opera 和Safari 也会报告语法错误，但它们会给出导致问题的外部文件的信息；IE就不会给出这个信息，因此就需要我们自己重复检查一遍引用的外部JavaScript文件。但Firefox会忽略那些被当作JavaScript 内容嵌入到文档中的非JavaScript文件中的解析错误。</p> <p>在服务器端组件动态生成 JavaScript 的情况下，比较容易出现这种错误。很多服务器端语言都会在发生运行错误时，向输出中插入HTML代码，而这种包含HTML的输出很容易就会违反JavaScript语法。如果在追查语法错误时遇到了麻烦，我们建议你再仔细检查一遍引用的外部文件，确保这些文件中没有包含服务器因错误而插入到其中的HTML。</p> <h3 id="系统无法找到指定资源"><a href="#系统无法找到指定资源" aria-hidden="true" class="header-anchor">#</a> 系统无法找到指定资源</h3> <p>系统无法找到指定资源(The system cannot locate the resource specified )这种说法，恐陷要算是IE给出的最有价值的错误消息了。在使用JavaScript 请求某个资源URL ，而该URL的长度超过了IE 对URL最长不能超过2083个字符的限制时，就会发生这个错误。IE不仅限制JavaScript中使用的URL的长度，而且也限制用户在浏览器自身中使用的URL长度（其他浏览器对URL 的限制没有这么严格）。IE 对URL路径还有一个不能超过2048个字符的限制。下面的代码将会导致错误。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">createLongUrl</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token string">&quot;?&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> len<span class="token operator">=</span> <span class="token number">2500</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    s <span class="token operator">+=</span> <span class="token string">&quot;a&quot;</span> <span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> url <span class="token operator">+</span> s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
x<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span> <span class="token function">createLongUrl</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.somedomain.com/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
x<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在这个例子中，XMLHttpRequest对象试图向一个超出最大长度限制的URL发送请求。在调用open()方法时，就会发生错误。避免这个问题的办法，无非就是通过给查询字符参数起更短的名字，或者减少不必要的数据，来缩短查询字符串的长度。另外，还可以把请求方法改为POST，通过请求体而不是查询字符串来发送数据。</p> <h2 id="总结几种避免浏览器相应javascript错误的方法"><a href="#总结几种避免浏览器相应javascript错误的方法" aria-hidden="true" class="header-anchor">#</a> 总结几种避免浏览器相应JavaScript错误的方法</h2> <p>1.在可能发生错误的地方使用try-catch语句，这样你还有机会以适当的方式对错误给出响应，而不必沿用浏览器处理错误的机制。</p> <p>2.使用window.onerror事件处理程序，这种方式可以接受try-catch不能处理的所有错误（仅限于IE、Firefox和Chrime）。</p> <p>对任何Web应用程序都应该分析可能发生的错误来源，并制定处理错误的方案。</p> <p>（1）首先必须明确什么是致命错误，什么是非致命错误</p> <p>（2）其次，再分析代码，以判断最可能发生的错误。JavaScript中发生错误的主要原因：</p> <ol><li><p>类型转换</p></li> <li><p>未充分检测数据类型（数据类型错误）</p></li> <li><p>发送给服务器或从服务器接收的数据有错误（通信错误）</p></li></ol></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/knowledge/assets/js/app.e8dd3cdf.js" defer></script><script src="/knowledge/assets/js/11.624fab4d.js" defer></script>
  </body>
</html>
